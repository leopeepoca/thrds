<!DOCTYPE html>
<html lang="pt">
<head>
    <style>

body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: black;
            color: #ff4d4d;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            flex-direction: column;
        }
        .container {
            max-width: 800px;
            width: 90%;
            margin: auto;
            background: #1a1a1a;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        button {

            border: none;
            border-radius: 15px;
            background: rgba(255, 77, 77, 0.2);
            color: #ff4d4d;
            box-shadow: 0 4px 10px rgba(255, 77, 77, 0.5);
            cursor: pointer;
            text-decoration: none;
            padding: 15px 25px;
            margin-top: 15px;
            font-size: 2em;
            border-radius: 5px;


        }
        button:hover {
            background-color: #d9534f;
        }
        #frase, #texto {
            display: none;
            margin-top: 15px;
            font-size: 2em;
        }
        .button-container {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        #resetBtn, #novaFraseBtn {
            display: none;
        }
        p {
            text-align: justify;
            line-height: 1.6;
            font-size: 1.1em;
        }
        b {
            color: #d9534f;
        }
        #voltarBtn {
            position: fixed; /* Alterado para seguir a rolagem */
            top: 20px;
            left: 20px;
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 77, 77, 0.2);
            color: #ff4d4d;
            box-shadow: 0 4px 10px rgba(255, 77, 77, 0.5);
            cursor: pointer;
            text-decoration: none;
        }
        #musicaBtn {
            position: fixed; /* Alterado para seguir a rolagem */
            bottom: 20px;
            left: 20px;
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 77, 77, 0.2);
            color: #ff4d4d;
            box-shadow: 0 4px 10px rgba(255, 77, 77, 0.5);
            cursor: pointer;
        }
        
        span {
            font-weight: bold;
            color: #ff3333;
        }

        .balao {
            position: fixed;
            background: rgba(255, 77, 77, 0.3);
            color: #ff4d4d;
            padding: 10px 15px;
            border-radius: 15px;
            box-shadow: 2px 2px 5px rgba(255, 77, 77, 0.5);
            font-size: 1em;
            animation: flutuar 5s infinite alternate ease-in-out;
            max-width: 150px;
            text-align: center;
        }

        /* Cora√ß√µes partidos animados */
        .heart {
            position: fixed;
            color: hotpink;
            font-size: 24px;
            animation: float 5s infinite ease-in-out;
            opacity: 0.7;
        }
        

        @keyframes float {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            50% { transform: translateY(-50px) scale(1.2); opacity: 0.8; }
            100% { transform: translateY(-100px) scale(1); opacity: 0; }
        }
        #voltarBtn, #proximoBtn {
    display: inline-block;
    text-decoration: none;
    font-size: 18px;
    color: #d9534f;
    font-weight: bold;
    padding: 10px 15px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(255, 77, 77, 0.5);
    background-color: rgba(217, 83, 79, 0.2);
    transition: background 0.3s ease;
    position: fixed;
    top: 20px;
    z-index: 1000; /* Garante que fique sobre outros elementos */
}

#voltarBtn {
    left: 20px;
}

#proximoBtn {
    right: 20px;
}

#voltarBtn:hover, #proximoBtn:hover {
    background-color: rgba(217, 83, 79, 0.5);
}

        /* Responsividade */
        @media (max-width: 600px) {
            h1 {
                font-size: 1.8em;
            }
            p {
                font-size: 1em;
            }
            .container {
                padding: 15px;
            }
            .balao {
                font-size: 0.9em;
                padding: 8px 12px;
            }
        }
        #contador {
    font-size: 0.8em;
    background: rgba(255, 77, 77, 0.2);
    padding: 10px;
    width: 3cm;
    height: 3cm;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(255, 77, 77, 0.5);
    color: #ff4d4d;
    position: fixed; /* Alterado de absolute para fixed */
    bottom: 20px;
    right: 20px;
    z-index: 10;
    word-wrap: break-word;
    overflow: hidden;
}



#frase, #texto {
            display: none;
            margin-top: 10px;
        }
        #resetBtn, #novaFraseBtn {
            display: none;
            margin-top: 10px;
        }
        .mensagem-aviso {
    color: #d9534f;
    font-size: 16px;
    text-align: center;
    margin: 20px auto; /* Espa√ßamento entre os elementos */
        }
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerar Vale</title>

</head>
<body>
    <a href="fim.html" id="voltarBtn">‚¨Ö Voltar</a>
    <a href="index.html" id="proximoBtn">Come√ßo</a>
    <button id="musicaBtn">üîä Tocar M√∫sica</button>
    <audio id="musica" loop>
        <source src="msc/baby.mp3" type="audio/mpeg">
        Seu navegador n√£o suporta √°udio.
    </audio>


    <div class="container">
        <div class="mensagem-aviso">‚ö†Ô∏è Por favor, caso a m√∫sica n√£o comece sozinha, clicar no bot√£o <B>Tocar M√∫sica</B></div>
        <h1> PARAB√âNS!</h1>
        <p>Ol√°, tudo bem?</p>
        <p>Parab√©ns, voc√™ acabou de encontrar a tela de vales. (VISTO QUE N√ÉO CONSEGUI DE JEITO NENHUM FAZER OS BOT√ïES FUNCIONAREM DE FORMA VALIDA!)</p>
        <p>Cada semana voc√™ pode gerar um vale nessa tela, basta clicar no bot√£o abaixo. (Sem roubos!)</p>

        
        <p><strong>Te amo.</strong></p>
    <button id = "BtnGeraVale"onclick="gerarVale()">Clique aqui</button>
    <br>
    <img id="valeImagem" src="" alt="Seu Vale" style="display: none; margin-top: 20px; width: 300px;">

        <p><strong>OBS:. Podemos acumular um total de 3 vales, caso n√£o venha a utilizar esses vales, eles podem vir a perder sua utilidade. Cada semana que tirar um vale, me envie!</strong></p>
        <div id="contador">Carregando...</div>
    <script>
        function gerarVale() {
            const agora = new Date().getTime();
            const ultimaGeracao = localStorage.getItem("ultimaGeracaoVale");
            const valesDisponiveis = [
                "vale1_new.png", "vale2_new.png", "vale3_new.png", "vale4_new.png", "vale5_new.png",
                "vale6_new.png", "vale7_new.png", "vale8_new.png", "vale9_new.png", "vale10_new.png",
                "vale11_new.png", "vale13_new.png","vale16_new.png", "vale17_new.png","vale18_new.png"
            ];

            let valesUsados = JSON.parse(localStorage.getItem("valesUsados")) || [];

           // Verifica se j√° passou uma semana
          if (ultimaGeracao && agora - parseInt(ultimaGeracao) < 7 * 24 * 60 * 60 * 1000) {
                alert("Voc√™ j√° gerou um vale nesta semana. Tente novamente depois.");
                return;
            }
      

            // Se todos os vales j√° foram usados, reinicia a lista
            if (valesUsados.length === valesDisponiveis.length) {
                valesUsados = [];
            }

            // Filtra os vales dispon√≠veis que ainda n√£o foram usados
            const valesRestantes = valesDisponiveis.filter(v => !valesUsados.includes(v));

            // Escolhe um vale aleat√≥rio entre os que restam
            const valeEscolhido = valesRestantes[Math.floor(Math.random() * valesRestantes.length)];

            // Salva o vale como usado
            valesUsados.push(valeEscolhido);
            localStorage.setItem("valesUsados", JSON.stringify(valesUsados));

            // Atualiza a data do √∫ltimo clique
            localStorage.setItem("ultimaGeracaoVale", agora);

            // Exibe o vale escolhido
            document.getElementById("valeImagem").src = "img/" + valeEscolhido;
            document.getElementById("valeImagem").style.display = "block";
        }


        function atualizarContador() {
                const dataSeparacao = new Date("2025-02-14T15:53:00"); // Defina a data da separa√ß√£o
                const agora = new Date();
                
                // Calcula a diferen√ßa em milissegundos
                const diferencaEmMilissegundos = agora - dataSeparacao;
    
                // Converte para tempo leg√≠vel
                const dias = Math.floor(diferencaEmMilissegundos / (1000 * 60 * 60 * 24));
                const horas = Math.floor((diferencaEmMilissegundos % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutos = Math.floor((diferencaEmMilissegundos % (1000 * 60 * 60)) / (1000 * 60));
                const segundos = Math.floor((diferencaEmMilissegundos % (1000 * 60)) / 1000);
    
                // Atualiza o contador na p√°gina
                document.getElementById("contador").innerHTML = 
                    `tempo sem voc√™:
                    <span>${dias}</span> dias, 
                     <span>${horas}</span> horas, 
                     <span>${minutos}</span> minutos e 
                     <span>${segundos}</span> segundos üíî`;
            }
    
            function criarCoracoesQuebrados() {
                const coracao = document.createElement("div");
                coracao.classList.add("heart");
                coracao.innerHTML = "‚ù§Ô∏è";
                document.body.appendChild(coracao);
    
                // Posi√ß√£o inicial aleat√≥ria
                coracao.style.left = Math.random() * 100 + "vw";
                coracao.style.top = "100vh";
                coracao.style.animationDuration = (Math.random() * 2 + 3) + "s"; // Dura√ß√£o aleat√≥ria
    
                // Remover cora√ß√£o ap√≥s a anima√ß√£o
                setTimeout(() => {
                    coracao.remove();
                }, 5000);
            }
    
    
            function controlarMusica() {
                const musica = document.getElementById("musica");
                const botao = document.getElementById("musicaBtn");
    
                if (musica.paused) {
                    musica.play();
                    botao.textContent = "üîá Pausar M√∫sica";
                } else {
                    musica.pause();
                    botao.textContent = "üîä Tocar M√∫sica";
                }
            }
            const frases = [
                "Just shout whenever, and Ill be there",
                "And I just cant believe, we aint together",
                "Dont wanna close my eyes, Im scared I will miss too much",
                "Two seconds without you its like two months, and thats too much",
                "And girl, you are my one love, my one heart, my one life for sure",
                "And I am be your one guy, youll be my number one girl, always making time for you",
                "Say go through the darkest of days",
                "I dont believe in nirvana, but the way that we love in the night gave me life",
                "Shower you with all my attention, yeah, these are my only intentions",
                "In the mornin or the late, say the word, on my way",
                "I put my heart into your hands, learn the lessons you teach",
                "You know I love you, did I ever tell you? You make it better like that",
                "Wanna argue all day, make love all night",
                "And I just wanna be the best of me, even though sometimes we might disagree, so that I can be the best for you"
            ];

            function criarBalao() {
        const balao = document.createElement("div");
        balao.className = "balao";
        balao.innerText = frases[Math.floor(Math.random() * frases.length)];

        const larguraTela = window.innerWidth;
        const alturaTela = window.innerHeight;
        const container = document.querySelector(".container");
        const rect = container.getBoundingClientRect();

        let x, y;
        let seguro = false;

        while (!seguro) {
            x = Math.random() * (larguraTela - 150);
            y = Math.random() * (alturaTela - 100);

            // Garantir que os bal√µes fiquem FORA do container
            if (
                x < rect.left - 100 || x > rect.right + 100 ||
                y < rect.top - 100 || y > rect.bottom + 100
            ) {
                seguro = true;
            }
        }

        balao.style.left = `${x}px`;
        balao.style.top = `${y}px`;

        document.body.appendChild(balao);

        setTimeout(() => { document.body.removeChild(balao); }, 6000);
    }
    setInterval(criarBalao, 5000);
    document.getElementById("musicaBtn").addEventListener("click", controlarMusica);
    
    // Atualiza o contador ao carregar a p√°gina e a cada 1 segundo
    atualizarContador();
    setInterval(atualizarContador, 1000);

    // Gera cora√ß√µes partidos flutuando a cada 800ms
    setInterval(criarCoracoesQuebrados, 800);




    
    </script>
    </div>
</body>
</html>
